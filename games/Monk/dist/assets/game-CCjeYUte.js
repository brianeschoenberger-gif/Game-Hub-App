import{E as V,S as Q,a as v,C as b,M,V as a,A as E,b as z,c as f,R as Z,d as ee,H as te,D as ne}from"./babylon-core-CpL_ofxJ.js";function ie(){const t=document.getElementById("renderCanvas");if(!t)throw new Error("Render canvas not found.");const e={preserveDrawingBuffer:!0,stencil:!0};let o;try{o=new V(t,!0,{...e,disableWebGL2Support:!1})}catch{o=new V(t,!0,{...e,disableWebGL2Support:!0})}const n=new Q(o);return{canvas:t,engine:o,scene:n}}function p(t,e,o,n,d){const i=M.CreateBox(e,o,t);return i.position=n,i.material=d,i.checkCollisions=!0,i}function F(t,e,o){e.forEach(n=>{p(t,n.name,n.size,n.pos,o)})}function P(t,e,o){const i=e.width/2,s=e.depth/2;F(t,[{name:`${e.name}WallNorth`,size:{width:e.width+.6,height:3,depth:.6},pos:new a(e.center.x,3/2,e.center.z-s)},{name:`${e.name}WallSouth`,size:{width:e.width+.6,height:3,depth:.6},pos:new a(e.center.x,3/2,e.center.z+s)},{name:`${e.name}WallWest`,size:{width:.6,height:3,depth:e.depth+.6},pos:new a(e.center.x-i,3/2,e.center.z)},{name:`${e.name}WallEast`,size:{width:.6,height:3,depth:e.depth+.6},pos:new a(e.center.x+i,3/2,e.center.z)}],o)}function oe(t){t.collisionsEnabled=!0;const e=new v("stoneMaterial",t);e.diffuseColor=new b(.57,.55,.52);const o=new v("woodMaterial",t);o.diffuseColor=new b(.46,.34,.23);const n=new v("clothMaterial",t);n.diffuseColor=new b(.69,.61,.48);const d=new v("gardenMaterial",t);d.diffuseColor=new b(.35,.43,.33);const i=new v("waterMaterial",t);i.diffuseColor=new b(.35,.53,.62);const s=M.CreateGround("ground",{width:78,height:58},t);s.material=e,s.checkCollisions=!0,P(t,{name:"northCellA",center:new a(-30,0,-13),width:8,depth:8},e),P(t,{name:"northCellB",center:new a(-21,0,-13),width:8,depth:8},e),P(t,{name:"kitchen",center:new a(-30,0,2),width:8,depth:8},e),P(t,{name:"startCell",center:new a(-21,0,2),width:8,depth:8},e);const r=p(t,"courtyardFloor",{width:31,depth:26,height:.5},new a(-1,.25,-4),d);r.checkCollisions=!1,p(t,"northArchWall",{width:15,depth:.6,height:4},new a(-1,2,-17),e),p(t,"northArchPillarLeft",{width:.9,depth:.9,height:4},new a(-8.2,2,-17),e),p(t,"northArchPillarRight",{width:.9,depth:.9,height:4},new a(6.2,2,-17),e),p(t,"bookshelfUpper",{width:14,depth:.8,height:1.6},new a(-14.5,.8,-17),o),p(t,"bookshelfLower",{width:14,depth:.8,height:1.6},new a(-14.5,.8,6),o),p(t,"northBedAFrame",{width:2.5,depth:1.4,height:.55},new a(-31,.72,-14.8),o),p(t,"northBedAMat",{width:1.8,depth:1,height:.2},new a(-31,1.08,-14.8),n),p(t,"northBedBFrame",{width:2.5,depth:1.4,height:.55},new a(-22,.72,-14.8),o),p(t,"northBedBMat",{width:1.8,depth:1,height:.2},new a(-22,1.08,-14.8),n),p(t,"startBedFrame",{width:2.5,depth:1.4,height:.55},new a(-22,.72,3.8),o),p(t,"startBedMat",{width:1.8,depth:1,height:.2},new a(-22,1.08,3.8),n),p(t,"statueBase",{width:3,depth:2,height:1},new a(-7,.6,-4),e);const h=p(t,"shrineMarker",{width:.9,depth:.9,height:2.2},new a(-7,1.8,-4),n);h.isPickable=!1;const c=M.CreateCylinder("fountain",{height:.9,diameter:6,tessellation:28},t);c.position=new a(4.5,.45,-4),c.material=i,c.checkCollisions=!0;const l=[{name:"eastTopOuterNorth",size:{width:16,height:3,depth:.6},pos:new a(23,1.5,-17)},{name:"eastTopOuterSouth",size:{width:16,height:3,depth:.6},pos:new a(23,1.5,-6.5)},{name:"eastTopOuterEast",size:{width:.6,height:3,depth:10.5},pos:new a(31,1.5,-11.8)},{name:"eastTopOuterWestA",size:{width:.6,height:3,depth:4},pos:new a(15,1.5,-15)},{name:"eastTopOuterWestB",size:{width:.6,height:3,depth:4.5},pos:new a(15,1.5,-8.8)},{name:"eastTopMazeA",size:{width:6,height:3,depth:.6},pos:new a(20,1.5,-13.2)},{name:"eastTopMazeB",size:{width:.6,height:3,depth:5},pos:new a(24,1.5,-14.5)},{name:"eastTopMazeC",size:{width:4.2,height:3,depth:.6},pos:new a(26.8,1.5,-10.6)},{name:"eastTopMazeD",size:{width:.6,height:3,depth:4},pos:new a(19.2,1.5,-9.5)}];F(t,l,e);const y=[{name:"eastBottomOuterNorth",size:{width:16,height:3,depth:.6},pos:new a(23,1.5,6.5)},{name:"eastBottomOuterSouth",size:{width:16,height:3,depth:.6},pos:new a(23,1.5,22)},{name:"eastBottomOuterWest",size:{width:.6,height:3,depth:15.5},pos:new a(15,1.5,14.2)},{name:"eastBottomOuterEastA",size:{width:.6,height:3,depth:5.5},pos:new a(31,1.5,9.2)},{name:"eastBottomOuterEastB",size:{width:.6,height:3,depth:8},pos:new a(31,1.5,18)},{name:"eastBottomMazeA",size:{width:9.6,height:3,depth:.6},pos:new a(21.4,1.5,11.5)},{name:"eastBottomMazeB",size:{width:.6,height:3,depth:7},pos:new a(19,1.5,16.8)},{name:"eastBottomMazeC",size:{width:4.5,height:3,depth:.6},pos:new a(27.7,1.5,14.6)},{name:"eastBottomMazeD",size:{width:.6,height:3,depth:6},pos:new a(26,1.5,18.9)}];return F(t,y,e),p(t,"southBlockWest",{width:17,depth:11,height:3},new a(-13,1.5,18),e),p(t,"southBlockCenter",{width:10,depth:11,height:3},new a(2.5,1.5,18),e),p(t,"mapBoundaryWest",{width:.6,depth:48,height:3},new a(-34.8,1.5,3),e),p(t,"mapBoundaryNorth",{width:48,depth:.6,height:3},new a(-10.5,1.5,-20.5),e),p(t,"mapBoundarySouth",{width:66,depth:.6,height:3},new a(-2,1.5,24.2),e),{ground:s,shrinePosition:h.position.clone()}}const m={movement:{walkSpeed:5.8,sprintSpeed:8.8,acceleration:24,deceleration:16,airAcceleration:7,jumpSpeed:7.6,gravity:-19,fallGravityMultiplier:1.22,lowJumpGravityMultiplier:1.1,coyoteTime:.08,jumpBufferTime:.12,rotationLerp:11,playerHeight:1.8,spawnPosition:{x:-22,y:1.1,z:1.8}},camera:{distance:3.4,minDistance:1.7,maxDistance:6.5,heightOffset:2.2,mouseSensitivity:.0011,pitchMin:-.7,pitchMax:.95,followLerp:12,lookAheadDistance:.9,lookAheadLerp:6,cameraRotationFollowLerp:5,cameraRotationMoveThreshold:.25,collisionRadius:.34,inertia:.62},effects:{dustMotes:{count:24,radius:20,minHeight:.7,maxHeight:3.4,driftSpeed:.18,bobAmplitude:.14,size:.055}},audio:{ambientVolume:.06,bellVolume:.2},world:{shrineTriggerRadius:2.4}},D={idle:["idle","breath","stand"],run:["run","walk","jog"],jump:["jump","fall"]};function I(t,e){const o=e.map(n=>n.toLowerCase());return t.find(n=>{var i;const d=((i=n.name)==null?void 0:i.toLowerCase())??"";return o.some(s=>d.includes(s))})??null}function ae(t){if(!t)return null;const e=t.clone("jumpProxyGroup");return e.speedRatio=.7,e.stop(),e}function se(t=[]){const e=I(t,D.idle),o=I(t,D.run),n=I(t,D.jump)??ae(o),d={idle:e,run:o,jump:n},i={idle:0,run:0,jump:0};let s="idle",r=!1;Object.values(d).forEach(l=>{!l||!(l instanceof E)||(l.play(!0),l.setWeightForAllAnimatables(0),l.enableBlending=!0,l.blendingSpeed=.08,r=!0)}),r&&d.idle&&(i.idle=1,d.idle.setWeightForAllAnimatables(1));function h(l){r&&(s=l)}function c(l,y){if(!r)return;const w={idle:s==="idle"?1:0,run:s==="run"?1:0,jump:s==="jump"?1:0},g=z.Clamp(l*10,0,1);d.idle&&(i.idle=z.Lerp(i.idle,w.idle,g),d.idle.setWeightForAllAnimatables(i.idle)),d.run&&(i.run=z.Lerp(i.run,w.run,g),d.run.speedRatio=z.Lerp(.9,1.35,z.Clamp(y.normalizedSpeed,0,1)),d.run.setWeightForAllAnimatables(i.run)),d.jump&&(i.jump=z.Lerp(i.jump,w.jump,g),d.jump.setWeightForAllAnimatables(i.jump))}return{isReady:()=>r,setState:h,update:c}}function re(t,e){const o=new v("monkSkinMaterial",e);o.diffuseColor=new b(.86,.73,.58);const n=new v("monkRobeMaterial",e);n.diffuseColor=new b(.71,.42,.2);const d=new v("monkSashMaterial",e);d.diffuseColor=new b(.6,.22,.18);const i=M.CreateBox("monkRoot",{size:.01},e);i.parent=t,i.position=new a(0,-.1,0),i.isVisible=!1;const s=M.CreateCylinder("monkRobe",{height:1.14,diameterTop:.42,diameterBottom:.76,tessellation:18},e);s.material=n,s.parent=i,s.position=new a(0,.32,0);const r=M.CreateSphere("monkHead",{diameter:.42,segments:20},e);r.material=o,r.parent=i,r.position=new a(0,1.05,0);const h=M.CreateTorus("monkSash",{diameter:.5,thickness:.08,tessellation:24},e);h.material=d,h.parent=i,h.position=new a(0,.45,0),h.rotation.x=Math.PI/2;const c=M.CreateCapsule("monkArmLeft",{radius:.08,height:.65,tessellation:12},e);c.material=n,c.parent=i,c.position=new a(-.28,.63,0),c.rotation.z=.22;const l=M.CreateCapsule("monkArmRight",{radius:.08,height:.65,tessellation:12},e);return l.material=n,l.parent=i,l.position=new a(.28,.63,0),l.rotation.z=-.22,{root:i,armLeft:c,armRight:l}}function le(t,e){const o=new f("idle-bob","position.y",30,f.ANIMATIONTYPE_FLOAT,f.ANIMATIONLOOPMODE_CYCLE);o.setKeys([{frame:0,value:e.root.position.y},{frame:15,value:e.root.position.y+.03},{frame:30,value:e.root.position.y}]);const n=new f("run-bob","position.y",30,f.ANIMATIONTYPE_FLOAT,f.ANIMATIONLOOPMODE_CYCLE);n.setKeys([{frame:0,value:e.root.position.y-.04},{frame:8,value:e.root.position.y+.06},{frame:15,value:e.root.position.y-.04},{frame:22,value:e.root.position.y+.06},{frame:30,value:e.root.position.y-.04}]);const d=new f("run-arm-left","rotation.x",30,f.ANIMATIONTYPE_FLOAT,f.ANIMATIONLOOPMODE_CYCLE);d.setKeys([{frame:0,value:-.6},{frame:15,value:.6},{frame:30,value:-.6}]);const i=new f("run-arm-right","rotation.x",30,f.ANIMATIONTYPE_FLOAT,f.ANIMATIONLOOPMODE_CYCLE);i.setKeys([{frame:0,value:.6},{frame:15,value:-.6},{frame:30,value:.6}]);const s=new f("jump-lift","position.y",30,f.ANIMATIONTYPE_FLOAT,f.ANIMATIONLOOPMODE_CYCLE);s.setKeys([{frame:0,value:e.root.position.y},{frame:12,value:e.root.position.y+.24},{frame:22,value:e.root.position.y+.16},{frame:30,value:e.root.position.y}]);const r=new f("jump-arms","rotation.x",30,f.ANIMATIONTYPE_FLOAT,f.ANIMATIONLOOPMODE_CYCLE);r.setKeys([{frame:0,value:0},{frame:12,value:-.8},{frame:30,value:0}]);const h=new E("idle");h.addTargetedAnimation(o,e.root);const c=new E("run");c.addTargetedAnimation(n,e.root),c.addTargetedAnimation(d,e.armLeft),c.addTargetedAnimation(i,e.armRight);const l=new E("jump");return l.addTargetedAnimation(s,e.root),l.addTargetedAnimation(r,e.armLeft),l.addTargetedAnimation(r.clone(),e.armRight),[h,c,l]}async function de(t,e){const o=re(t,e),n=le(e,o),d=se(n);return{setAnimationState:d.setState,update:(i,s)=>d.update(i,s),loadedFromGlb:!1}}function he(t){const e=M.CreateCapsule("playerCapsule",{radius:.45,height:1.8,tessellation:12},t);e.isVisible=!1,e.ellipsoid=new a(.45,.9,.45),e.ellipsoidOffset=new a(0,.9,0),e.checkCollisions=!0;const o=m.movement.spawnPosition;return e.position=new a(o.x,o.y,o.z),e}async function ce(t,e){return de(t,e)}const L=new a,B=new a,A=new a,Y=new a,_=new a,ue=new a(0,-1,0),K=new a(0,0,1);function pe(t,e,o){const n=he(t),d={setAnimationState:()=>{},update:()=>{},loadedFromGlb:!1};ce(n,t).then(u=>{d.setAnimationState=u.setAnimationState,d.update=u.update,d.loadedFromGlb=u.loadedFromGlb});const i=new a(0,0,0),s=m.movement.playerHeight/2,r=.03,h=.14,c=new Z(_,ue,s+.3);let l=!1,y=0,w=0,g=0;function S(){_.set(n.position.x,n.position.y+.05,n.position.z),c.length=s+.35;const u=t.pickWithRay(c,x=>x!==n&&x.checkCollisions===!0);if(!(u!=null&&u.hit)||!u.pickedPoint){l=!1;return}const O=n.position.y-s,C=u.pickedPoint.y;l=O-C<=h,l&&i.y<=0&&(i.y=0,n.position.y=C+s+r)}function k(u){y+=u;const O=t.activeCamera;if(!O)return;L.copyFrom(O.getForwardRay().direction),L.y=0,L.normalize(),a.CrossToRef(a.UpReadOnly,L,B),B.normalize(),A.setAll(0),o.keys.forward&&A.addInPlace(L),o.keys.back&&A.subtractInPlace(L),o.keys.left&&A.subtractInPlace(B),o.keys.right&&A.addInPlace(B);const C=A.lengthSquared()>0;C&&A.normalize();const R=o.keys.sprint?m.movement.sprintSpeed:m.movement.walkSpeed,x=C?A.x*R:0,q=C?A.z*R:0;let N=C?m.movement.acceleration:m.movement.deceleration;!l&&C&&(N=m.movement.airAcceleration);const W=Math.min(1,N*u);i.x+=(x-i.x)*W,i.z+=(q-i.z)*W,S(),l?w=m.movement.coyoteTime:w=Math.max(0,w-u),o.consumeJumpPress()?g=m.movement.jumpBufferTime:g=Math.max(0,g-u),g>0&&(l||w>0)&&(i.y=m.movement.jumpSpeed,l=!1,w=0,g=0);let j=1;i.y<0?j=m.movement.fallGravityMultiplier:i.y>0&&!o.keys.jump&&(j=m.movement.lowJumpGravityMultiplier),i.y+=m.movement.gravity*j*u,Y.set(i.x*u,i.y*u,i.z*u),n.moveWithCollisions(Y),S();const G=Math.hypot(i.x,i.z),$=G/m.movement.sprintSpeed,J=l?G>.35?"run":"idle":"jump";if(d.setAnimationState(J),d.update(u,{elapsedTime:y,normalizedSpeed:$,isGrounded:l}),C){const H=Math.atan2(A.x,A.z),U=Math.min(1,m.movement.rotationLerp*u),X=Math.atan2(Math.sin(H-n.rotation.y),Math.cos(H-n.rotation.y));n.rotation.y+=X*U,K.set(Math.sin(n.rotation.y),0,Math.cos(n.rotation.y))}}return{mesh:n,update:k,getPosition:()=>n.position,isGrounded:()=>l,getFacingDirection:()=>K,getHorizontalSpeed:()=>Math.hypot(i.x,i.z),usesGlbCharacter:()=>d.loadedFromGlb}}function me(t){const e={forward:!1,back:!1,left:!1,right:!1,sprint:!1,jump:!1};let o=!1;const n=new Map([["KeyW","forward"],["KeyS","back"],["KeyA","left"],["KeyD","right"],["ShiftLeft","sprint"],["ShiftRight","sprint"]]);function d(){e.forward=!1,e.back=!1,e.left=!1,e.right=!1,e.sprint=!1,e.jump=!1,o=!1}function i(h){n.has(h.code)&&(e[n.get(h.code)]=!0),h.code==="Space"&&(h.repeat||(o=!0),e.jump=!0,h.preventDefault())}function s(h){n.has(h.code)&&(e[n.get(h.code)]=!1),h.code==="Space"&&(e.jump=!1,h.preventDefault())}function r(){d()}return window.addEventListener("keydown",i),window.addEventListener("keyup",s),window.addEventListener("blur",r),t.setAttribute("tabindex","0"),{keys:e,consumeJumpPress(){const h=o;return o=!1,h},dispose(){window.removeEventListener("keydown",i),window.removeEventListener("keyup",s),window.removeEventListener("blur",r),d()}}}function fe(t,e,o){const n=m.camera,d=new a,i=new a,s=new ee("playerCamera",Math.PI*1.4,1.1,n.distance,o.getPosition(),t);s.attachControl(e,!0),s.lowerBetaLimit=n.pitchMin+Math.PI/2,s.upperBetaLimit=n.pitchMax+Math.PI/2,s.lowerRadiusLimit=n.minDistance,s.upperRadiusLimit=n.maxDistance,s.wheelDeltaPercentage=.01,s.angularSensibilityX=1/n.mouseSensitivity,s.angularSensibilityY=1/n.mouseSensitivity,s.inertia=n.inertia,s.checkCollisions=!0,s.collisionRadius=new a(n.collisionRadius,n.collisionRadius,n.collisionRadius),t.activeCamera=s;function r(){var c;document.pointerLockElement!==e&&((c=e.requestPointerLock)==null||c.call(e))}function h(c){const l=o.getPosition(),y=o.getFacingDirection();i.set(y.x*n.lookAheadDistance,0,y.z*n.lookAheadDistance);const w=Math.min(1,n.lookAheadLerp*c);if(d.x+=(l.x+i.x-d.x)*w,d.z+=(l.z+i.z-d.z)*w,d.y=l.y+n.heightOffset,o.getHorizontalSpeed()>n.cameraRotationMoveThreshold){const S=l?o.mesh.rotation.y+Math.PI:s.alpha,k=Math.atan2(Math.sin(S-s.alpha),Math.cos(S-s.alpha)),u=Math.min(1,n.cameraRotationFollowLerp*c);s.alpha+=k*u}const g=Math.min(1,n.followLerp*c);s.target=a.Lerp(s.target,d,g)}return{camera:s,activatePointerLock:r,update:h}}function we(){const t=document.getElementById("startScreen"),e=document.getElementById("playButton"),o=document.getElementById("hud"),n=document.getElementById("objectiveText"),d=document.getElementById("storyBox");let i=!1;function s(l){i||(i=!0,setTimeout(()=>{t.classList.remove("visible"),o.classList.remove("hidden"),l==null||l()},120))}function r(l){e.addEventListener("click",()=>s(l))}function h(l){d.textContent=l,d.classList.remove("hidden")}function c(l){n.textContent=`Objective: ${l}`}return{bindStart:r,showStory:h,setObjective:c,isPlaying:()=>i}}function ge(t,e,o){let n=!1,d=()=>{};function i(r){d=r}function s(){if(n)return;const r=e.getPosition();a.Distance(r,t.shrinePosition)<=m.world.shrineTriggerRadius&&(n=!0,o.showStory("A distant bell rings. Something calls you beyond the monastery."),o.setObjective("Prototype complete"),d())}return{update:s,setOnShrineTriggered:i,isShrineTriggered:()=>n}}function T(t,e){return t+Math.random()*(e-t)}function ye(t){const e=m.effects.dustMotes,o=[],n=new v("dustMoteMaterial",t);n.diffuseColor=new b(.95,.89,.75),n.emissiveColor=new b(.12,.1,.06),n.alpha=.5,n.disableLighting=!0;for(let i=0;i<e.count;i+=1){const s=M.CreateSphere(`dustMote${i}`,{diameter:e.size,segments:6},t),r=new a(T(-20,e.radius),T(e.minHeight,e.maxHeight),T(-20,e.radius));s.position.copyFrom(r),s.material=n,s.isPickable=!1,s.checkCollisions=!1,o.push({mesh:s,basePos:r,phase:Math.random()*Math.PI*2,driftDir:new a(T(-1,1),0,T(-1,1)).normalize()})}function d(i){const s=performance.now()*.001;for(const r of o)r.mesh.position.x+=r.driftDir.x*e.driftSpeed*i,r.mesh.position.z+=r.driftDir.z*e.driftSpeed*i,r.mesh.position.y=r.basePos.y+Math.sin(s+r.phase)*e.bobAmplitude,Math.abs(r.mesh.position.x)>e.radius&&(r.mesh.position.x=-r.mesh.position.x*.9),Math.abs(r.mesh.position.z)>e.radius&&(r.mesh.position.z=-r.mesh.position.z*.9)}return{update:d}}function Ae(){let t,e,o,n=!1;function d(){t||(t=new window.AudioContext),t.state==="suspended"&&t.resume()}function i(){if(n)return;d(),e=t.createOscillator(),o=t.createGain();const r=t.createBiquadFilter();e.type="triangle",e.frequency.value=110,r.type="lowpass",r.frequency.value=320,r.Q.value=.4,o.gain.value=m.audio.ambientVolume,e.connect(r),r.connect(o),o.connect(t.destination),e.start(),n=!0}function s(){if(!n)return;const r=t.currentTime,h=t.createGain(),c=t.createOscillator(),l=t.createOscillator();c.type="sine",l.type="sine",c.frequency.setValueAtTime(784,r),l.frequency.setValueAtTime(1176,r),h.gain.setValueAtTime(m.audio.bellVolume,r),h.gain.exponentialRampToValueAtTime(.001,r+2.1),c.connect(h),l.connect(h),h.connect(t.destination),c.start(r),l.start(r+.01),c.stop(r+2.2),l.stop(r+2.2)}return{start:i,playShrineBell:s}}function Me(){const t=document.createElement("div");return t.style.position="fixed",t.style.right="12px",t.style.top="10px",t.style.padding="4px 8px",t.style.fontSize="12px",t.style.background="rgba(0,0,0,0.4)",t.style.border="1px solid rgba(255,255,255,0.15)",t.style.borderRadius="4px",t.style.color="#d8dde9",t.style.pointerEvents="none",t.textContent="FPS: --",document.body.appendChild(t),{update(e){t.textContent=`FPS: ${Math.round(e)}`}}}function Ce(){const{canvas:t,engine:e,scene:o}=ie();o.clearColor.set(.56,.62,.72,1);const n=new te("hemiLight",new a(0,1,0),o);n.intensity=.68,n.groundColor=new b(.26,.22,.16);const d=new ne("sunLight",new a(-.4,-1,.35),o);d.intensity=1.6,d.position=new a(15,30,-10);const i=oe(o),s=me(t),r=pe(o,i,s),h=fe(o,t,r),c=we(),l=ge(i,r,c),y=ye(o),w=Ae(),g=Me();c.bindStart(()=>{t.focus(),h.activatePointerLock(),w.start()}),l.setOnShrineTriggered(()=>{w.playShrineBell()}),o.onBeforeRenderObservable.add(()=>{if(!c.isPlaying())return;const u=o.getEngine().getDeltaTime()/1e3;r.update(u),h.update(u),y.update(u),l.update(),g.update(o.getEngine().getFps())}),e.runRenderLoop(()=>{o.render()}),window.addEventListener("resize",()=>{e.resize()});let S=!1;const k=()=>{var u;S||(S=!0,(u=s.dispose)==null||u.call(s))};o.onDisposeObservable.add(k),window.addEventListener("beforeunload",k,{once:!0})}export{Ce as createGame};
